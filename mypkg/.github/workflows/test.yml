name: test
on: push
jobs:
    test:
        runs-on: ubuntu-24.04
        container: ryuichiueda/ubuntu22.04-ros2:latest
        steps:
            - uses: actions/checkout@v3
            - name: build and test
              run: |
                  rsync -av ./ /root/ros2_ws/src/mypkg/
                  rosdep update
                  rosdep install --from-paths /root/ros2_ws/src --ignore-src -r -y
                  cd /root/ros2_ws
                  bash -xv ./src/mypkg/test/test.bash /root
